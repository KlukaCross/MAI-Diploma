\documentclass[pdf, hyperref={unicode}, aspectratio=169]{beamer}

\usepackage{./diploma-slides-latex-template/styles}

% Включаю кнопочки
\setbeamertemplate{navigation symbols}[default]

% Название темы слишком длинное, поменьше шрифт!
\setbeamerfont{title}{series=\bfseries, size=\large}
\setbeamerfont{footline}{series=\bfseries, size=\fontsize{5}{3}\selectfont}

\useoutertheme{miniframes}

\input{titlepage}

\begin{document}

\epstopdfsetup{outdir=./}

{
	% убирает номер слайда с титульного слайда
	\setbeamertemplate{page number in head/foot}{}
	\frame{\titlepage}
}

\begin{frame}
	\frametitle{Актуальность темы}
	\begin{itemize}
		\item Тестирование программного продукта является важной частью разработки.

		\item В образовательной платформе Яндекс.Учебник возникла необходимость в получении данных для тестирования.

		\item Тестирование в производственной среде сопряжено с рисками:
		\begin{itemize}
			\item нагрузка на систему;
			\item целостность данных;
			\item конфиденциальность данных.
		\end{itemize}

		\item Копирование всех данных (например, с помощью pg\_dump):
		\begin{itemize}
			\item занимает много времени;
			\item использует много ресурсов;
			\item не решается вопрос конфиденциальности данных.
		\end{itemize}

		\item Часто для тестовых сценариев нужны не все данные, а определённое количество согласованных данных.
	\end{itemize}
\end{frame}


\begin{frame}
	\frametitle{Цель и задачи работы}
	
	\textbf{Цель} --- проектирование системы, способной переносить взаимосвязанные данные, анонимизировать их и генерировать тестовые данные.

	\textbf{Задачи:}
	\begin{enumerate}
		\item определение требований;
		\item анализ аналогов;
		\item проектирование архитектуры;
		\item разработка алгоритмов переноса и генерации;
		\item разработка расширения SQL для описания данных;
		\item реализация минимально жизнеспособного продукта;
		\item анализ результатов.
	\end{enumerate}
\end{frame}


\begin{frame}
\frametitle{Архитектура системы переноса и генерации данных}
	\begin{center}
		\includegraphics[height = 6.5cm]{img/structurizr-Containers-cut}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Архитектура Data Transfer}
	\begin{center}
		\includegraphics[width = 13cm]{img/structurizr-DataTransferComponents-cut}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Формализация базы данных}
	\textbf{Требования к модели данных}:
	\begin{itemize}
		\item представление связей между данными;
		\item удаление и создание связей;
		\item установка атрибутов на связи.
	\end{itemize}

	\textbf{Расширение модели}:
	\begin{itemize}
		\item поддержка межбазовых связей;
		\item историчность обхода данных.
	\end{itemize}
\end{frame}


\begin{frame}
\frametitle{Определение метаграфа}
	\textbf{Определение:} $MG = \langle V, MV, E, ME \rangle$ -- метаграф, где $V$ -- множество вершин, $MV$ -- множество метавершин, $E$ -- множество рёбер, $ME$ -- множество метарёбер.

	\textbf{Соответствие метаграфа и базы данных}:
	\begin{itemize}
		\item вершины $\Leftrightarrow$ записи;
		\item метавершины $\Leftrightarrow$ таблицы;
		\item рёбра $\Leftrightarrow$ связи между записями;
		\item метарёбра $\Leftrightarrow$ логические внешние ключи.
	\end{itemize}
\end{frame}


\begin{frame}
\frametitle{Пример базы данных}
	\begin{center}
		\includegraphics[width = 13cm]{img/jailer-example-db}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Графическое отображение метаграфа}
	\begin{center}
		\includegraphics[height = 6.5cm]{img/drawio-metagraph}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Определение правил метаграфа}
	\textbf{Предпосылки} к использованию правил метаграфа:
	\begin{itemize}
		\item добавление связей в метаграф (данные могут быть связаны логически, но не физически);
		\item удаление связей из метаграфе (ограничение обхода метаграфа).
	\end{itemize}

	\textbf{Определение:} $r: E => E'$ -- правило метаграфа, где $E$ и $E'$ -- множество и обновлённое множество рёбер (метарёбер).
\end{frame}


\begin{frame}
\frametitle{Алгоритм обхода данных}
	\begin{center}
		\includegraphics[height = 6.5cm]{img/algorithm-with-rules}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Описание обхода и трансформации данных}
	Разработано расширение для языка SQL с помощью инструмента ANTLR4.

	Пример описания:
	\begin{center}
		\includegraphics[width = 12cm]{img/language-1}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Минимально жизнеспособный продукт}
	\begin{itemize}
		\item интерфейс командной строки;
		\item перенос взаимосвязанных данных;
		\item построение метаграфа по базе данных;
		\item поддержка правил для ограничения обхода метаграфа.
	\end{itemize}
\end{frame}


\begin{frame}
\frametitle{Тесты производительности}
	Тестовая база данных: 4.5 ГБ, 44739072 записей

	\begin{center}
		\includegraphics[height = 6cm]{img/benchmark}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Анализ результатов}
	\textbf{Результаты}:

	\begin{itemize}
		\item спроектирована общая архитектура;
		\item разработано расширение SQL для описания обхода и трансформации данных;
		\item реализован минимально жизнеспособный продукт.
	\end{itemize}

	\textbf{Дальнейшие перспективы}:
	\begin{itemize}
		\item улучшение производительности;
		\item реализация механизмов анонимизации и генерации данных.
	\end{itemize}

\end{frame}


\begin{frame}
\frametitle{Описание программной разработки}
	Ссылки на код грамматики и код минимально жизнеспособного продукта

	\begin{center}
		\includegraphics[height = 6cm]{img/qr-code-relatio-lang}
		\includegraphics[height = 6cm]{img/qr-code-mvp}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Приложения}
	Архитектура на уровне контекста.

	\begin{center}
		\includegraphics[height = 6cm]{img/structurizr-SystemLandscape}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Приложения}
	Архитектура на уровне контейнеров.

	\begin{center}
		\includegraphics[height = 6cm]{img/structurizr-Containers}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Приложения}
	Архитектура на уровне компонент (Data Transfer).

	\begin{center}
		\includegraphics[height = 6cm]{img/structurizr-DataTransferComponents}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Приложения}
	Модель метаграфа, предложенная в работе: \textbf{Использование метаграфов для описания семантики и прагматики информационных систем} (Самохвалов Э. Н., Ревунков Г. И., Гапанюк Ю. Е.).

	\textbf{Метаграф}: $S = \langle V, MV, E, ME \rangle$, где $V$ -- множество вершин, $MV$ -- множество метавершин, $E$ -- множество рёбер, $ME$ -- множество метарёбер.

	\textbf{Вершина метаграфа}: $v_i = \{ atr_k \}$, $v_i \in V$, где $atr_k$ -- атрибут.

	\textbf{Ребро метаграфа}: $e_i = \langle v_S, v_E, eo, \{ atr_k \} \rangle$, $e_i \in E, eo = true | false$, где $v_S$ -- исходная вершина (метавершина) ребра; $v_E$ -- конечная вершина (метавершина) ребра; $eo$ -- признак направленности ребра; $atr_k$ -- атрибут.

	\textbf{Фрагмент метаграфа}: $MG_i = \{ ev_j \}$, $ev_j \in (V \cup E \cup MV \cup ME)$, где $atr_k$ -- атрибут; $ev_j$ -- элемент, принадлежащий объединению множеств вершин (метавершин) и ребер (метаребер) метаграфа.
\end{frame}


\begin{frame}
\frametitle{Приложения}
	\textbf{Метавершина метаграфа}: $mv_i = \langle \{ atr_k \}, MG_i \rangle$, $mv_i \in MV, ev_j \in (V \cup E \cup MV \cup ME)$, где $atr_k$ -- атрибут; $MG_i$ -- фрагмент метаграфа.

	\textbf{Метаребро метаграфа}: $me_i = \langle v_S, v_E, eo, \{ atr_k \}, MG_i \rangle$, $e_i \in E, eo = true | false, ev_j \in (V \cup E \cup MV \cup ME)$, где $v_S$ -- исходная вершина (метавершина) ребра; $v_E$ -- конечная вершина (метавершина) ребра; $eo$ -- признак направленности ребра; $atr_k$ -- атрибут; $MG_i$ -- фрагмент метаграфа.

	\begin{center}
		\includegraphics[height = 3cm]{img/metaedge}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Приложения}
	Первый алгоритм обхода данных.

	\begin{center}
		\includegraphics[height = 6.5cm]{img/algorithm-base}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Приложения}
	Алгоритм генерации данных.

	\begin{center}
		\includegraphics[height = 6cm]{img/extra-alg-generator}
	\end{center}
\end{frame}


\begin{frame}
\frametitle{Приложения}
	Примеры грамматических конструкций на ANTLR4.

	\begin{center}
		\includegraphics[height = 6.5cm]{img/grammar}
	\end{center}
\end{frame}
\end{document}
