2025-05-10 12:09:42,852 - sql_queries - INFO - SELECT n.nspname AS schema_name,
               t.typname AS type_name,
               t.typtype,
               CASE WHEN t.typtype = 'd' THEN
                   pg_catalog.format_type(t.typbasetype, NULL)
               ELSE NULL END AS data_type,
               CASE WHEN t.typtype = 'e' THEN
                   string_agg('''' || e.enumlabel || '''', ', ')
               ELSE NULL END AS enum_labels,
               CASE WHEN t.typtype = 'd' THEN
                   pg_get_constraintdef(c.oid)
               ELSE NULL END AS constraint_defs
        FROM pg_type t
        LEFT JOIN pg_namespace n ON n.oid = t.typnamespace
        LEFT JOIN pg_enum e ON t.oid = e.enumtypid
        LEFT JOIN pg_constraint c ON t.oid = c.contypid
        WHERE n.nspname NOT IN ('pg_catalog', 'information_schema')
        AND t.typtype IN ('d', 'e')
        GROUP BY n.nspname, t.typname, t.typtype, t.typbasetype, c.oid

2025-05-10 12:09:42,853 - sql_queries - INFO - SELECT extname FROM pg_extension

2025-05-10 12:09:42,854 - sql_queries - INFO - CREATE EXTENSION IF NOT EXISTS plpgsql

2025-05-10 12:09:42,854 - sql_queries - INFO - SELECT sequencename, start_value, min_value, max_value, increment_by, last_value FROM pg_sequences

2025-05-10 12:09:42,857 - sql_queries - INFO - SELECT s.relname, t.relname, a.attname
        FROM pg_class s
            JOIN pg_depend d ON d.objid=s.oid AND d.classid='pg_class'::regclass AND d.refclassid='pg_class'::regclass
            JOIN pg_class t ON t.oid=d.refobjid
            JOIN pg_namespace n ON n.oid=t.relnamespace
            JOIN pg_attribute a ON a.attrelid=t.oid AND a.attnum=d.refobjsubid
            WHERE s.relkind='S' and d.deptype='a'

